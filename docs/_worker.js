var Fr=Object.defineProperty;var Ct=e=>{throw TypeError(e)};var Br=(e,t,r)=>t in e?Fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var v=(e,t,r)=>Br(e,typeof t!="symbol"?t+"":t,r),nt=(e,t,r)=>t.has(e)||Ct("Cannot "+r);var f=(e,t,r)=>(nt(e,t,"read from private field"),r?r.call(e):t.get(e)),w=(e,t,r)=>t.has(e)?Ct("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),b=(e,t,r,n)=>(nt(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),A=(e,t,r)=>(nt(e,t,"access private method"),r);var Rt=(e,t,r,n)=>({set _(s){b(e,t,s,r)},get _(){return f(e,t,n)}});var tr={Stringify:1},$=(e,t)=>{const r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},Ur=/[&<>'"]/,rr=async(e,t)=>{let r="";t||(t=[]);const n=await Promise.all(e);for(let s=n.length-1;r+=n[s],s--,!(s<0);s--){let i=n[s];typeof i=="object"&&t.push(...i.callbacks||[]);const a=i.isEscaped;if(i=await(typeof i=="object"?i.toString():i),typeof i=="object"&&t.push(...i.callbacks||[]),i.isEscaped??a)r+=i;else{const o=[r];te(i,o),r=o[0]}}return $(r,t)},te=(e,t)=>{const r=e.search(Ur);if(r===-1){t[0]+=e;return}let n,s,i=0;for(s=r;s<e.length;s++){switch(e.charCodeAt(s)){case 34:n="&quot;";break;case 39:n="&#39;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}t[0]+=e.substring(i,s)+n,i=s+1}t[0]+=e.substring(i,s)},nr=e=>{const t=e.callbacks;if(!(t!=null&&t.length))return e;const r=[e],n={};return t.forEach(s=>s({phase:tr.Stringify,buffer:r,context:n})),r[0]},sr=async(e,t,r,n,s)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));const i=e.callbacks;return i!=null&&i.length?(s?s[0]+=e:s=[e],Promise.all(i.map(o=>o({phase:t,buffer:s,context:n}))).then(o=>Promise.all(o.filter(Boolean).map(l=>sr(l,t,!1,n,s))).then(()=>s[0]))):Promise.resolve(e)},Wr=(e,...t)=>{const r=[""];for(let n=0,s=e.length-1;n<s;n++){r[0]+=e[n];const i=Array.isArray(t[n])?t[n].flat(1/0):[t[n]];for(let a=0,o=i.length;a<o;a++){const l=i[a];if(typeof l=="string")te(l,r);else if(typeof l=="number")r[0]+=l;else{if(typeof l=="boolean"||l===null||l===void 0)continue;if(typeof l=="object"&&l.isEscaped)if(l.callbacks)r.unshift("",l);else{const c=l.toString();c instanceof Promise?r.unshift("",c):r[0]+=c}else l instanceof Promise?r.unshift("",l):te(l.toString(),r)}}}return r[0]+=e.at(-1),r.length===1?"callbacks"in r?$(nr($(r[0],r.callbacks))):$(r[0]):rr(r,r.callbacks)},xt=Symbol("RENDERER"),ht=Symbol("ERROR_HANDLER"),R=Symbol("STASH"),ir=Symbol("INTERNAL"),zr=Symbol("MEMO"),Ye=Symbol("PERMALINK"),Tt=e=>(e[ir]=!0,e),ar=e=>({value:t,children:r})=>{if(!r)return;const n={children:[{tag:Tt(()=>{e.push(t)}),props:{}}]};Array.isArray(r)?n.children.push(...r.flat()):n.children.push(r),n.children.push({tag:Tt(()=>{e.pop()}),props:{}});const s={tag:"",props:n,type:""};return s[ht]=i=>{throw e.pop(),i},s},or=e=>{const t=[e],r=ar(t);return r.values=t,r.Provider=r,Ee.push(r),r},Ee=[],bt=e=>{const t=[e],r=n=>{t.push(n.value);let s;try{s=n.children?(Array.isArray(n.children)?new ur("",{},n.children):n.children).toString():""}finally{t.pop()}return s instanceof Promise?s.then(i=>$(i,i.callbacks)):$(s)};return r.values=t,r.Provider=r,r[xt]=ar(t),Ee.push(r),r},Ne=e=>e.values.at(-1),We={title:[],script:["src"],style:["data-href"],link:["href"],meta:["name","httpEquiv","charset","itemProp"]},mt={},ze="data-precedence",Le=e=>Array.isArray(e)?e:[e],jt=new WeakMap,Ot=(e,t,r,n)=>({buffer:s,context:i})=>{if(!s)return;const a=jt.get(i)||{};jt.set(i,a);const o=a[e]||(a[e]=[]);let l=!1;const c=We[e];if(c.length>0){e:for(const[,u]of o)for(const d of c)if(((u==null?void 0:u[d])??null)===(r==null?void 0:r[d])){l=!0;break e}}if(l?s[0]=s[0].replaceAll(t,""):c.length>0?o.push([t,r,n]):o.unshift([t,r,n]),s[0].indexOf("</head>")!==-1){let u;if(n===void 0)u=o.map(([d])=>d);else{const d=[];u=o.map(([h,,g])=>{let x=d.indexOf(g);return x===-1&&(d.push(g),x=d.length-1),[h,x]}).sort((h,g)=>h[1]-g[1]).map(([h])=>h)}u.forEach(d=>{s[0]=s[0].replaceAll(d,"")}),s[0]=s[0].replace(/(?=<\/head>)/,u.join(""))}},He=(e,t,r)=>$(new H(e,r,Le(t??[])).toString()),qe=(e,t,r,n)=>{if("itemProp"in r)return He(e,t,r);let{precedence:s,blocking:i,...a}=r;s=n?s??"":void 0,n&&(a[ze]=s);const o=new H(e,a,Le(t||[])).toString();return o instanceof Promise?o.then(l=>$(o,[...l.callbacks||[],Ot(e,l,a,s)])):$(o,[Ot(e,o,a,s)])},Vr=({children:e,...t})=>{const r=Et();if(r){const n=Ne(r);if(n==="svg"||n==="head")return new H("title",t,Le(e??[]))}return qe("title",e,t,!1)},Kr=({children:e,...t})=>{const r=Et();return["src","async"].some(n=>!t[n])||r&&Ne(r)==="head"?He("script",e,t):qe("script",e,t,!1)},Gr=({children:e,...t})=>["href","precedence"].every(r=>r in t)?(t["data-href"]=t.href,delete t.href,qe("style",e,t,!0)):He("style",e,t),Jr=({children:e,...t})=>["onLoad","onError"].some(r=>r in t)||t.rel==="stylesheet"&&(!("precedence"in t)||"disabled"in t)?He("link",e,t):qe("link",e,t,"precedence"in t),Xr=({children:e,...t})=>{const r=Et();return r&&Ne(r)==="head"?He("meta",e,t):qe("meta",e,t,!1)},lr=(e,{children:t,...r})=>new H(e,r,Le(t??[])),Zr=e=>(typeof e.action=="function"&&(e.action=Ye in e.action?e.action[Ye]:void 0),lr("form",e)),cr=(e,t)=>(typeof t.formAction=="function"&&(t.formAction=Ye in t.formAction?t.formAction[Ye]:void 0),lr(e,t)),Yr=e=>cr("input",e),Qr=e=>cr("button",e);const st=Object.freeze(Object.defineProperty({__proto__:null,button:Qr,form:Zr,input:Yr,link:Jr,meta:Xr,script:Kr,style:Gr,title:Vr},Symbol.toStringTag,{value:"Module"}));var en=new Map([["className","class"],["htmlFor","for"],["crossOrigin","crossorigin"],["httpEquiv","http-equiv"],["itemProp","itemprop"],["fetchPriority","fetchpriority"],["noModule","nomodule"],["formAction","formaction"]]),Qe=e=>en.get(e)||e,fr=(e,t)=>{for(const[r,n]of Object.entries(e)){const s=r[0]==="-"||!/[A-Z]/.test(r)?r:r.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`);t(s,n==null?null:typeof n=="number"?s.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${n}`:`${n}px`:n)}},je=void 0,Et=()=>je,tn=e=>/[A-Z]/.test(e)&&e.match(/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?e.replace(/([A-Z])/g,"-$1").toLowerCase():e,rn=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],nn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],wt=(e,t)=>{for(let r=0,n=e.length;r<n;r++){const s=e[r];if(typeof s=="string")te(s,t);else{if(typeof s=="boolean"||s===null||s===void 0)continue;s instanceof H?s.toStringToBuffer(t):typeof s=="number"||s.isEscaped?t[0]+=s:s instanceof Promise?t.unshift("",s):wt(s,t)}}},H=class{constructor(e,t,r){v(this,"tag");v(this,"props");v(this,"key");v(this,"children");v(this,"isEscaped",!0);v(this,"localContexts");this.tag=e,this.props=t,this.children=r}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){var t,r;const e=[""];(t=this.localContexts)==null||t.forEach(([n,s])=>{n.values.push(s)});try{this.toStringToBuffer(e)}finally{(r=this.localContexts)==null||r.forEach(([n])=>{n.values.pop()})}return e.length===1?"callbacks"in e?nr($(e[0],e.callbacks)).toString():e[0]:rr(e,e.callbacks)}toStringToBuffer(e){const t=this.tag,r=this.props;let{children:n}=this;e[0]+=`<${t}`;const s=je&&Ne(je)==="svg"?i=>tn(Qe(i)):i=>Qe(i);for(let[i,a]of Object.entries(r))if(i=s(i),i!=="children"){if(i==="style"&&typeof a=="object"){let o="";fr(a,(l,c)=>{c!=null&&(o+=`${o?";":""}${l}:${c}`)}),e[0]+=' style="',te(o,e),e[0]+='"'}else if(typeof a=="string")e[0]+=` ${i}="`,te(a,e),e[0]+='"';else if(a!=null)if(typeof a=="number"||a.isEscaped)e[0]+=` ${i}="${a}"`;else if(typeof a=="boolean"&&nn.includes(i))a&&(e[0]+=` ${i}=""`);else if(i==="dangerouslySetInnerHTML"){if(n.length>0)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");n=[$(a.__html)]}else if(a instanceof Promise)e[0]+=` ${i}="`,e.unshift('"',a);else if(typeof a=="function"){if(!i.startsWith("on")&&i!=="ref")throw new Error(`Invalid prop '${i}' of type 'function' supplied to '${t}'.`)}else e[0]+=` ${i}="`,te(a.toString(),e),e[0]+='"'}if(rn.includes(t)&&n.length===0){e[0]+="/>";return}e[0]+=">",wt(n,e),e[0]+=`</${t}>`}},it=class extends H{toStringToBuffer(e){const{children:t}=this,r=this.tag.call(null,{...this.props,children:t.length<=1?t[0]:t});if(!(typeof r=="boolean"||r==null))if(r instanceof Promise)if(Ee.length===0)e.unshift("",r);else{const n=Ee.map(s=>[s,s.values.at(-1)]);e.unshift("",r.then(s=>(s instanceof H&&(s.localContexts=n),s)))}else r instanceof H?r.toStringToBuffer(e):typeof r=="number"||r.isEscaped?(e[0]+=r,r.callbacks&&(e.callbacks||(e.callbacks=[]),e.callbacks.push(...r.callbacks))):te(r,e)}},ur=class extends H{toStringToBuffer(e){wt(this.children,e)}},Pt=(e,t,...r)=>{t??(t={}),r.length&&(t.children=r.length===1?r[0]:r);const n=t.key;delete t.key;const s=Ve(e,t,r);return s.key=n,s},_t=!1,Ve=(e,t,r)=>{if(!_t){for(const n in mt)st[n][xt]=mt[n];_t=!0}return typeof e=="function"?new it(e,t,r):st[e]?new it(st[e],t,r):e==="svg"||e==="head"?(je||(je=bt("")),new H(e,t,[new it(je,{value:e},r)])):new H(e,t,r)},sn=({children:e})=>new ur("",{children:e},Array.isArray(e)?e:e?[e]:[]);function m(e,t,r){let n;if(!t||!("children"in t))n=Ve(e,t,[]);else{const s=t.children;n=Array.isArray(s)?Ve(e,t,s):Ve(e,t,[s])}return n.key=r,n}var kt=(e,t,r)=>(n,s)=>{let i=-1;return a(0);async function a(o){if(o<=i)throw new Error("next() called multiple times");i=o;let l,c=!1,u;if(e[o]?(u=e[o][0][0],n.req.routeIndex=o):u=o===e.length&&s||void 0,u)try{l=await u(n,()=>a(o+1))}catch(d){if(d instanceof Error&&t)n.error=d,l=await t(d,n),c=!0;else throw d}else n.finalized===!1&&r&&(l=await r(n));return l&&(n.finalized===!1||c)&&(n.res=l),n}},an=Symbol(),on=async(e,t=Object.create(null))=>{const{all:r=!1,dot:n=!1}=t,i=(e instanceof vr?e.raw.headers:e.headers).get("Content-Type");return i!=null&&i.startsWith("multipart/form-data")||i!=null&&i.startsWith("application/x-www-form-urlencoded")?ln(e,{all:r,dot:n}):{}};async function ln(e,t){const r=await e.formData();return r?cn(r,t):{}}function cn(e,t){const r=Object.create(null);return e.forEach((n,s)=>{t.all||s.endsWith("[]")?fn(r,s,n):r[s]=n}),t.dot&&Object.entries(r).forEach(([n,s])=>{n.includes(".")&&(un(r,n,s),delete r[n])}),r}var fn=(e,t,r)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(r):e[t]=[e[t],r]:t.endsWith("[]")?e[t]=[r]:e[t]=r},un=(e,t,r)=>{let n=e;const s=t.split(".");s.forEach((i,a)=>{a===s.length-1?n[i]=r:((!n[i]||typeof n[i]!="object"||Array.isArray(n[i])||n[i]instanceof File)&&(n[i]=Object.create(null)),n=n[i])})},dr=e=>{const t=e.split("/");return t[0]===""&&t.shift(),t},dn=e=>{const{groups:t,path:r}=hn(e),n=dr(r);return mn(n,t)},hn=e=>{const t=[];return e=e.replace(/\{[^}]+\}/g,(r,n)=>{const s=`@${n}`;return t.push([s,r]),s}),{groups:t,path:e}},mn=(e,t)=>{for(let r=t.length-1;r>=0;r--){const[n]=t[r];for(let s=e.length-1;s>=0;s--)if(e[s].includes(n)){e[s]=e[s].replace(n,t[r][1]);break}}return e},Be={},pn=(e,t)=>{if(e==="*")return"*";const r=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){const n=`${e}#${t}`;return Be[n]||(r[2]?Be[n]=t&&t[0]!==":"&&t[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${t})`)]:[e,r[1],new RegExp(`^${r[2]}$`)]:Be[n]=[e,r[1],!0]),Be[n]}return null},St=(e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return t(r)}catch{return r}})}},gn=e=>St(e,decodeURI),hr=e=>{const t=e.url,r=t.indexOf("/",t.charCodeAt(9)===58?13:8);let n=r;for(;n<t.length;n++){const s=t.charCodeAt(n);if(s===37){const i=t.indexOf("?",n),a=t.slice(r,i===-1?void 0:i);return gn(a.includes("%25")?a.replace(/%25/g,"%2525"):a)}else if(s===63)break}return t.slice(r,n)},vn=e=>{const t=hr(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},he=(e,t,...r)=>(r.length&&(t=he(t,...r)),`${(e==null?void 0:e[0])==="/"?"":"/"}${e}${t==="/"?"":`${(e==null?void 0:e.at(-1))==="/"?"":"/"}${(t==null?void 0:t[0])==="/"?t.slice(1):t}`}`),mr=e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;const t=e.split("/"),r=[];let n="";return t.forEach(s=>{if(s!==""&&!/\:/.test(s))n+="/"+s;else if(/\:/.test(s))if(/\?/.test(s)){r.length===0&&n===""?r.push("/"):r.push(n);const i=s.replace("?","");n+="/"+i,r.push(n)}else n+="/"+s}),r.filter((s,i,a)=>a.indexOf(s)===i)},at=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?St(e,gr):e):e,pr=(e,t,r)=>{let n;if(!r&&t&&!/[%+]/.test(t)){let a=e.indexOf(`?${t}`,8);for(a===-1&&(a=e.indexOf(`&${t}`,8));a!==-1;){const o=e.charCodeAt(a+t.length+1);if(o===61){const l=a+t.length+2,c=e.indexOf("&",l);return at(e.slice(l,c===-1?void 0:c))}else if(o==38||isNaN(o))return"";a=e.indexOf(`&${t}`,a+1)}if(n=/[%+]/.test(e),!n)return}const s={};n??(n=/[%+]/.test(e));let i=e.indexOf("?",8);for(;i!==-1;){const a=e.indexOf("&",i+1);let o=e.indexOf("=",i);o>a&&a!==-1&&(o=-1);let l=e.slice(i+1,o===-1?a===-1?void 0:a:o);if(n&&(l=at(l)),i=a,l==="")continue;let c;o===-1?c="":(c=e.slice(o+1,a===-1?void 0:a),n&&(c=at(c))),r?(s[l]&&Array.isArray(s[l])||(s[l]=[]),s[l].push(c)):s[l]??(s[l]=c)}return t?s[t]:s},yn=pr,xn=(e,t)=>pr(e,t,!0),gr=decodeURIComponent,Mt=e=>St(e,gr),ge,M,V,yr,xr,pt,J,Vt,vr=(Vt=class{constructor(e,t="/",r=[[]]){w(this,V);v(this,"raw");w(this,ge);w(this,M);v(this,"routeIndex",0);v(this,"path");v(this,"bodyCache",{});w(this,J,e=>{const{bodyCache:t,raw:r}=this,n=t[e];if(n)return n;const s=Object.keys(t)[0];return s?t[s].then(i=>(s==="json"&&(i=JSON.stringify(i)),new Response(i)[e]())):t[e]=r[e]()});this.raw=e,this.path=t,b(this,M,r),b(this,ge,{})}param(e){return e?A(this,V,yr).call(this,e):A(this,V,xr).call(this)}query(e){return yn(this.url,e)}queries(e){return xn(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;const t={};return this.raw.headers.forEach((r,n)=>{t[n]=r}),t}async parseBody(e){var t;return(t=this.bodyCache).parsedBody??(t.parsedBody=await on(this,e))}json(){return f(this,J).call(this,"text").then(e=>JSON.parse(e))}text(){return f(this,J).call(this,"text")}arrayBuffer(){return f(this,J).call(this,"arrayBuffer")}blob(){return f(this,J).call(this,"blob")}formData(){return f(this,J).call(this,"formData")}addValidatedData(e,t){f(this,ge)[e]=t}valid(e){return f(this,ge)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[an](){return f(this,M)}get matchedRoutes(){return f(this,M)[0].map(([[,e]])=>e)}get routePath(){return f(this,M)[0].map(([[,e]])=>e)[this.routeIndex].path}},ge=new WeakMap,M=new WeakMap,V=new WeakSet,yr=function(e){const t=f(this,M)[0][this.routeIndex][1][e],r=A(this,V,pt).call(this,t);return r?/\%/.test(r)?Mt(r):r:void 0},xr=function(){const e={},t=Object.keys(f(this,M)[0][this.routeIndex][1]);for(const r of t){const n=A(this,V,pt).call(this,f(this,M)[0][this.routeIndex][1][r]);n&&typeof n=="string"&&(e[r]=/\%/.test(n)?Mt(n):n)}return e},pt=function(e){return f(this,M)[1]?f(this,M)[1][e]:e},J=new WeakMap,Vt),bn="text/plain; charset=UTF-8",ot=(e,t)=>({"Content-Type":e,...t}),_e,ke,B,ve,U,k,Me,ye,xe,ie,$e,Ie,X,me,Kt,En=(Kt=class{constructor(e,t){w(this,X);w(this,_e);w(this,ke);v(this,"env",{});w(this,B);v(this,"finalized",!1);v(this,"error");w(this,ve);w(this,U);w(this,k);w(this,Me);w(this,ye);w(this,xe);w(this,ie);w(this,$e);w(this,Ie);v(this,"render",(...e)=>(f(this,ye)??b(this,ye,t=>this.html(t)),f(this,ye).call(this,...e)));v(this,"setLayout",e=>b(this,Me,e));v(this,"getLayout",()=>f(this,Me));v(this,"setRenderer",e=>{b(this,ye,e)});v(this,"header",(e,t,r)=>{this.finalized&&b(this,k,new Response(f(this,k).body,f(this,k)));const n=f(this,k)?f(this,k).headers:f(this,ie)??b(this,ie,new Headers);t===void 0?n.delete(e):r!=null&&r.append?n.append(e,t):n.set(e,t)});v(this,"status",e=>{b(this,ve,e)});v(this,"set",(e,t)=>{f(this,B)??b(this,B,new Map),f(this,B).set(e,t)});v(this,"get",e=>f(this,B)?f(this,B).get(e):void 0);v(this,"newResponse",(...e)=>A(this,X,me).call(this,...e));v(this,"body",(e,t,r)=>A(this,X,me).call(this,e,t,r));v(this,"text",(e,t,r)=>!f(this,ie)&&!f(this,ve)&&!t&&!r&&!this.finalized?new Response(e):A(this,X,me).call(this,e,t,ot(bn,r)));v(this,"json",(e,t,r)=>A(this,X,me).call(this,JSON.stringify(e),t,ot("application/json",r)));v(this,"html",(e,t,r)=>{const n=s=>A(this,X,me).call(this,s,t,ot("text/html; charset=UTF-8",r));return typeof e=="object"?sr(e,tr.Stringify,!1,{}).then(n):n(e)});v(this,"redirect",(e,t)=>{const r=String(e);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,t??302)});v(this,"notFound",()=>(f(this,xe)??b(this,xe,()=>new Response),f(this,xe).call(this,this)));b(this,_e,e),t&&(b(this,U,t.executionCtx),this.env=t.env,b(this,xe,t.notFoundHandler),b(this,Ie,t.path),b(this,$e,t.matchResult))}get req(){return f(this,ke)??b(this,ke,new vr(f(this,_e),f(this,Ie),f(this,$e))),f(this,ke)}get event(){if(f(this,U)&&"respondWith"in f(this,U))return f(this,U);throw Error("This context has no FetchEvent")}get executionCtx(){if(f(this,U))return f(this,U);throw Error("This context has no ExecutionContext")}get res(){return f(this,k)||b(this,k,new Response(null,{headers:f(this,ie)??b(this,ie,new Headers)}))}set res(e){if(f(this,k)&&e){e=new Response(e.body,e);for(const[t,r]of f(this,k).headers.entries())if(t!=="content-type")if(t==="set-cookie"){const n=f(this,k).headers.getSetCookie();e.headers.delete("set-cookie");for(const s of n)e.headers.append("set-cookie",s)}else e.headers.set(t,r)}b(this,k,e),this.finalized=!0}get var(){return f(this,B)?Object.fromEntries(f(this,B)):{}}},_e=new WeakMap,ke=new WeakMap,B=new WeakMap,ve=new WeakMap,U=new WeakMap,k=new WeakMap,Me=new WeakMap,ye=new WeakMap,xe=new WeakMap,ie=new WeakMap,$e=new WeakMap,Ie=new WeakMap,X=new WeakSet,me=function(e,t,r){const n=f(this,k)?new Headers(f(this,k).headers):f(this,ie)??new Headers;if(typeof t=="object"&&"headers"in t){const i=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(const[a,o]of i)a.toLowerCase()==="set-cookie"?n.append(a,o):n.set(a,o)}if(r)for(const[i,a]of Object.entries(r))if(typeof a=="string")n.set(i,a);else{n.delete(i);for(const o of a)n.append(i,o)}const s=typeof t=="number"?t:(t==null?void 0:t.status)??f(this,ve);return new Response(e,{status:s,headers:n})},Kt),T="ALL",wn="all",Sn=["get","post","put","delete","options","patch"],br="Can not add a route since the matcher is already built.",Er=class extends Error{},Nn="__COMPOSED_HANDLER",An=e=>e.text("404 Not Found",404),$t=(e,t)=>{if("getResponse"in e){const r=e.getResponse();return t.newResponse(r.body,r)}return console.error(e),t.text("Internal Server Error",500)},I,j,Sr,D,ne,Ke,Ge,Gt,wr=(Gt=class{constructor(t={}){w(this,j);v(this,"get");v(this,"post");v(this,"put");v(this,"delete");v(this,"options");v(this,"patch");v(this,"all");v(this,"on");v(this,"use");v(this,"router");v(this,"getPath");v(this,"_basePath","/");w(this,I,"/");v(this,"routes",[]);w(this,D,An);v(this,"errorHandler",$t);v(this,"onError",t=>(this.errorHandler=t,this));v(this,"notFound",t=>(b(this,D,t),this));v(this,"fetch",(t,...r)=>A(this,j,Ge).call(this,t,r[1],r[0],t.method));v(this,"request",(t,r,n,s)=>t instanceof Request?this.fetch(r?new Request(t,r):t,n,s):(t=t.toString(),this.fetch(new Request(/^https?:\/\//.test(t)?t:`http://localhost${he("/",t)}`,r),n,s)));v(this,"fire",()=>{addEventListener("fetch",t=>{t.respondWith(A(this,j,Ge).call(this,t.request,t,void 0,t.request.method))})});[...Sn,wn].forEach(i=>{this[i]=(a,...o)=>(typeof a=="string"?b(this,I,a):A(this,j,ne).call(this,i,f(this,I),a),o.forEach(l=>{A(this,j,ne).call(this,i,f(this,I),l)}),this)}),this.on=(i,a,...o)=>{for(const l of[a].flat()){b(this,I,l);for(const c of[i].flat())o.map(u=>{A(this,j,ne).call(this,c.toUpperCase(),f(this,I),u)})}return this},this.use=(i,...a)=>(typeof i=="string"?b(this,I,i):(b(this,I,"*"),a.unshift(i)),a.forEach(o=>{A(this,j,ne).call(this,T,f(this,I),o)}),this);const{strict:n,...s}=t;Object.assign(this,s),this.getPath=n??!0?t.getPath??hr:vn}route(t,r){const n=this.basePath(t);return r.routes.map(s=>{var a;let i;r.errorHandler===$t?i=s.handler:(i=async(o,l)=>(await kt([],r.errorHandler)(o,()=>s.handler(o,l))).res,i[Nn]=s.handler),A(a=n,j,ne).call(a,s.method,s.path,i)}),this}basePath(t){const r=A(this,j,Sr).call(this);return r._basePath=he(this._basePath,t),r}mount(t,r,n){let s,i;n&&(typeof n=="function"?i=n:(i=n.optionHandler,n.replaceRequest===!1?s=l=>l:s=n.replaceRequest));const a=i?l=>{const c=i(l);return Array.isArray(c)?c:[c]}:l=>{let c;try{c=l.executionCtx}catch{}return[l.env,c]};s||(s=(()=>{const l=he(this._basePath,t),c=l==="/"?0:l.length;return u=>{const d=new URL(u.url);return d.pathname=d.pathname.slice(c)||"/",new Request(d,u)}})());const o=async(l,c)=>{const u=await r(s(l.req.raw),...a(l));if(u)return u;await c()};return A(this,j,ne).call(this,T,he(t,"*"),o),this}},I=new WeakMap,j=new WeakSet,Sr=function(){const t=new wr({router:this.router,getPath:this.getPath});return t.errorHandler=this.errorHandler,b(t,D,f(this,D)),t.routes=this.routes,t},D=new WeakMap,ne=function(t,r,n){t=t.toUpperCase(),r=he(this._basePath,r);const s={basePath:this._basePath,path:r,method:t,handler:n};this.router.add(t,r,[n,s]),this.routes.push(s)},Ke=function(t,r){if(t instanceof Error)return this.errorHandler(t,r);throw t},Ge=function(t,r,n,s){if(s==="HEAD")return(async()=>new Response(null,await A(this,j,Ge).call(this,t,r,n,"GET")))();const i=this.getPath(t,{env:n}),a=this.router.match(s,i),o=new En(t,{path:i,matchResult:a,env:n,executionCtx:r,notFoundHandler:f(this,D)});if(a[0].length===1){let c;try{c=a[0][0][0][0](o,async()=>{o.res=await f(this,D).call(this,o)})}catch(u){return A(this,j,Ke).call(this,u,o)}return c instanceof Promise?c.then(u=>u||(o.finalized?o.res:f(this,D).call(this,o))).catch(u=>A(this,j,Ke).call(this,u,o)):c??f(this,D).call(this,o)}const l=kt(a[0],this.errorHandler,f(this,D));return(async()=>{try{const c=await l(o);if(!c.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return c.res}catch(c){return A(this,j,Ke).call(this,c,o)}})()},Gt),et="[^/]+",Re=".*",Te="(?:|/.*)",pe=Symbol(),Cn=new Set(".\\+*[^]$()");function Rn(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===Re||e===Te?1:t===Re||t===Te?-1:e===et?1:t===et?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var ae,oe,L,Jt,gt=(Jt=class{constructor(){w(this,ae);w(this,oe);w(this,L,Object.create(null))}insert(t,r,n,s,i){if(t.length===0){if(f(this,ae)!==void 0)throw pe;if(i)return;b(this,ae,r);return}const[a,...o]=t,l=a==="*"?o.length===0?["","",Re]:["","",et]:a==="/*"?["","",Te]:a.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let c;if(l){const u=l[1];let d=l[2]||et;if(u&&l[2]&&(d===".*"||(d=d.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(d))))throw pe;if(c=f(this,L)[d],!c){if(Object.keys(f(this,L)).some(h=>h!==Re&&h!==Te))throw pe;if(i)return;c=f(this,L)[d]=new gt,u!==""&&b(c,oe,s.varIndex++)}!i&&u!==""&&n.push([u,f(c,oe)])}else if(c=f(this,L)[a],!c){if(Object.keys(f(this,L)).some(u=>u.length>1&&u!==Re&&u!==Te))throw pe;if(i)return;c=f(this,L)[a]=new gt}c.insert(o,r,n,s,i)}buildRegExpStr(){const r=Object.keys(f(this,L)).sort(Rn).map(n=>{const s=f(this,L)[n];return(typeof f(s,oe)=="number"?`(${n})@${f(s,oe)}`:Cn.has(n)?`\\${n}`:n)+s.buildRegExpStr()});return typeof f(this,ae)=="number"&&r.unshift(`#${f(this,ae)}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}},ae=new WeakMap,oe=new WeakMap,L=new WeakMap,Jt),tt,De,Xt,Tn=(Xt=class{constructor(){w(this,tt,{varIndex:0});w(this,De,new gt)}insert(e,t,r){const n=[],s=[];for(let a=0;;){let o=!1;if(e=e.replace(/\{[^}]+\}/g,l=>{const c=`@\\${a}`;return s[a]=[c,l],a++,o=!0,c}),!o)break}const i=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let a=s.length-1;a>=0;a--){const[o]=s[a];for(let l=i.length-1;l>=0;l--)if(i[l].indexOf(o)!==-1){i[l]=i[l].replace(o,s[a][1]);break}}return f(this,De).insert(i,t,n,f(this,tt),r),n}buildRegExp(){let e=f(this,De).buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0;const r=[],n=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(s,i,a)=>i!==void 0?(r[++t]=Number(i),"$()"):(a!==void 0&&(n[Number(a)]=++t),"")),[new RegExp(`^${e}`),r,n]}},tt=new WeakMap,De=new WeakMap,Xt),Nr=[],jn=[/^$/,[],Object.create(null)],Je=Object.create(null);function Ar(e){return Je[e]??(Je[e]=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,r)=>r?`\\${r}`:"(?:|/.*)")}$`))}function On(){Je=Object.create(null)}function Pn(e){var c;const t=new Tn,r=[];if(e.length===0)return jn;const n=e.map(u=>[!/\*|\/:/.test(u[0]),...u]).sort(([u,d],[h,g])=>u?1:h?-1:d.length-g.length),s=Object.create(null);for(let u=0,d=-1,h=n.length;u<h;u++){const[g,x,p]=n[u];g?s[x]=[p.map(([E])=>[E,Object.create(null)]),Nr]:d++;let y;try{y=t.insert(x,d,g)}catch(E){throw E===pe?new Er(x):E}g||(r[d]=p.map(([E,S])=>{const C=Object.create(null);for(S-=1;S>=0;S--){const[N,P]=y[S];C[N]=P}return[E,C]}))}const[i,a,o]=t.buildRegExp();for(let u=0,d=r.length;u<d;u++)for(let h=0,g=r[u].length;h<g;h++){const x=(c=r[u][h])==null?void 0:c[1];if(!x)continue;const p=Object.keys(x);for(let y=0,E=p.length;y<E;y++)x[p[y]]=o[x[p[y]]]}const l=[];for(const u in a)l[u]=r[a[u]];return[i,l,s]}function ue(e,t){if(e){for(const r of Object.keys(e).sort((n,s)=>s.length-n.length))if(Ar(r).test(t))return[...e[r]]}}var Z,Y,Se,Cr,Rr,Zt,_n=(Zt=class{constructor(){w(this,Se);v(this,"name","RegExpRouter");w(this,Z);w(this,Y);b(this,Z,{[T]:Object.create(null)}),b(this,Y,{[T]:Object.create(null)})}add(e,t,r){var o;const n=f(this,Z),s=f(this,Y);if(!n||!s)throw new Error(br);n[e]||[n,s].forEach(l=>{l[e]=Object.create(null),Object.keys(l[T]).forEach(c=>{l[e][c]=[...l[T][c]]})}),t==="/*"&&(t="*");const i=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){const l=Ar(t);e===T?Object.keys(n).forEach(c=>{var u;(u=n[c])[t]||(u[t]=ue(n[c],t)||ue(n[T],t)||[])}):(o=n[e])[t]||(o[t]=ue(n[e],t)||ue(n[T],t)||[]),Object.keys(n).forEach(c=>{(e===T||e===c)&&Object.keys(n[c]).forEach(u=>{l.test(u)&&n[c][u].push([r,i])})}),Object.keys(s).forEach(c=>{(e===T||e===c)&&Object.keys(s[c]).forEach(u=>l.test(u)&&s[c][u].push([r,i]))});return}const a=mr(t)||[t];for(let l=0,c=a.length;l<c;l++){const u=a[l];Object.keys(s).forEach(d=>{var h;(e===T||e===d)&&((h=s[d])[u]||(h[u]=[...ue(n[d],u)||ue(n[T],u)||[]]),s[d][u].push([r,i-c+l+1]))})}}match(e,t){On();const r=A(this,Se,Cr).call(this);return this.match=(n,s)=>{const i=r[n]||r[T],a=i[2][s];if(a)return a;const o=s.match(i[0]);if(!o)return[[],Nr];const l=o.indexOf("",1);return[i[1][l],o]},this.match(e,t)}},Z=new WeakMap,Y=new WeakMap,Se=new WeakSet,Cr=function(){const e=Object.create(null);return Object.keys(f(this,Y)).concat(Object.keys(f(this,Z))).forEach(t=>{e[t]||(e[t]=A(this,Se,Rr).call(this,t))}),b(this,Z,b(this,Y,void 0)),e},Rr=function(e){const t=[];let r=e===T;return[f(this,Z),f(this,Y)].forEach(n=>{const s=n[e]?Object.keys(n[e]).map(i=>[i,n[e][i]]):[];s.length!==0?(r||(r=!0),t.push(...s)):e!==T&&t.push(...Object.keys(n[T]).map(i=>[i,n[T][i]]))}),r?Pn(t):null},Zt),Q,W,Yt,kn=(Yt=class{constructor(e){v(this,"name","SmartRouter");w(this,Q,[]);w(this,W,[]);b(this,Q,e.routers)}add(e,t,r){if(!f(this,W))throw new Error(br);f(this,W).push([e,t,r])}match(e,t){if(!f(this,W))throw new Error("Fatal error");const r=f(this,Q),n=f(this,W),s=r.length;let i=0,a;for(;i<s;i++){const o=r[i];try{for(let l=0,c=n.length;l<c;l++)o.add(...n[l]);a=o.match(e,t)}catch(l){if(l instanceof Er)continue;throw l}this.match=o.match.bind(o),b(this,Q,[o]),b(this,W,void 0);break}if(i===s)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,a}get activeRouter(){if(f(this,W)||f(this,Q).length!==1)throw new Error("No active router has been determined yet.");return f(this,Q)[0]}},Q=new WeakMap,W=new WeakMap,Yt),Ae=Object.create(null),ee,_,le,be,O,z,se,Qt,Tr=(Qt=class{constructor(e,t,r){w(this,z);w(this,ee);w(this,_);w(this,le);w(this,be,0);w(this,O,Ae);if(b(this,_,r||Object.create(null)),b(this,ee,[]),e&&t){const n=Object.create(null);n[e]={handler:t,possibleKeys:[],score:0},b(this,ee,[n])}b(this,le,[])}insert(e,t,r){b(this,be,++Rt(this,be)._);let n=this;const s=dn(t),i=[];for(let a=0,o=s.length;a<o;a++){const l=s[a],c=s[a+1],u=pn(l,c),d=Array.isArray(u)?u[0]:l;if(d in f(n,_)){n=f(n,_)[d],u&&i.push(u[1]);continue}f(n,_)[d]=new Tr,u&&(f(n,le).push(u),i.push(u[1])),n=f(n,_)[d]}return f(n,ee).push({[e]:{handler:r,possibleKeys:i.filter((a,o,l)=>l.indexOf(a)===o),score:f(this,be)}}),n}search(e,t){var o;const r=[];b(this,O,Ae);let s=[this];const i=dr(t),a=[];for(let l=0,c=i.length;l<c;l++){const u=i[l],d=l===c-1,h=[];for(let g=0,x=s.length;g<x;g++){const p=s[g],y=f(p,_)[u];y&&(b(y,O,f(p,O)),d?(f(y,_)["*"]&&r.push(...A(this,z,se).call(this,f(y,_)["*"],e,f(p,O))),r.push(...A(this,z,se).call(this,y,e,f(p,O)))):h.push(y));for(let E=0,S=f(p,le).length;E<S;E++){const C=f(p,le)[E],N=f(p,O)===Ae?{}:{...f(p,O)};if(C==="*"){const G=f(p,_)["*"];G&&(r.push(...A(this,z,se).call(this,G,e,f(p,O))),b(G,O,N),h.push(G));continue}const[P,fe,re]=C;if(!u&&!(re instanceof RegExp))continue;const q=f(p,_)[P],qr=i.slice(l).join("/");if(re instanceof RegExp){const G=re.exec(qr);if(G){if(N[fe]=G[0],r.push(...A(this,z,se).call(this,q,e,f(p,O),N)),Object.keys(f(q,_)).length){b(q,O,N);const rt=((o=G[0].match(/\//))==null?void 0:o.length)??0;(a[rt]||(a[rt]=[])).push(q)}continue}}(re===!0||re.test(u))&&(N[fe]=u,d?(r.push(...A(this,z,se).call(this,q,e,N,f(p,O))),f(q,_)["*"]&&r.push(...A(this,z,se).call(this,f(q,_)["*"],e,N,f(p,O)))):(b(q,O,N),h.push(q)))}}s=h.concat(a.shift()??[])}return r.length>1&&r.sort((l,c)=>l.score-c.score),[r.map(({handler:l,params:c})=>[l,c])]}},ee=new WeakMap,_=new WeakMap,le=new WeakMap,be=new WeakMap,O=new WeakMap,z=new WeakSet,se=function(e,t,r,n){const s=[];for(let i=0,a=f(e,ee).length;i<a;i++){const o=f(e,ee)[i],l=o[t]||o[T],c={};if(l!==void 0&&(l.params=Object.create(null),s.push(l),r!==Ae||n&&n!==Ae))for(let u=0,d=l.possibleKeys.length;u<d;u++){const h=l.possibleKeys[u],g=c[l.score];l.params[h]=n!=null&&n[h]&&!g?n[h]:r[h]??(n==null?void 0:n[h]),c[l.score]=!0}}return s},Qt),ce,er,Mn=(er=class{constructor(){v(this,"name","TrieRouter");w(this,ce);b(this,ce,new Tr)}add(e,t,r){const n=mr(t);if(n){for(let s=0,i=n.length;s<i;s++)f(this,ce).insert(e,n[s],r);return}f(this,ce).insert(e,t,r)}match(e,t){return f(this,ce).search(e,t)}},ce=new WeakMap,er),jr=class extends wr{constructor(e={}){super(e),this.router=e.router??new kn({routers:[new _n,new Mn]})}},$n=e=>{const r={...{origin:"*",allowMethods:["GET","HEAD","PUT","POST","DELETE","PATCH"],allowHeaders:[],exposeHeaders:[]},...e},n=(i=>typeof i=="string"?i==="*"?()=>i:a=>i===a?a:null:typeof i=="function"?i:a=>i.includes(a)?a:null)(r.origin),s=(i=>typeof i=="function"?i:Array.isArray(i)?()=>i:()=>[])(r.allowMethods);return async function(a,o){var u;function l(d,h){a.res.headers.set(d,h)}const c=n(a.req.header("origin")||"",a);if(c&&l("Access-Control-Allow-Origin",c),r.origin!=="*"){const d=a.req.header("Vary");d?l("Vary",d):l("Vary","Origin")}if(r.credentials&&l("Access-Control-Allow-Credentials","true"),(u=r.exposeHeaders)!=null&&u.length&&l("Access-Control-Expose-Headers",r.exposeHeaders.join(",")),a.req.method==="OPTIONS"){r.maxAge!=null&&l("Access-Control-Max-Age",r.maxAge.toString());const d=s(a.req.header("origin")||"",a);d.length&&l("Access-Control-Allow-Methods",d.join(","));let h=r.allowHeaders;if(!(h!=null&&h.length)){const g=a.req.header("Access-Control-Request-Headers");g&&(h=g.split(/\s*,\s*/))}return h!=null&&h.length&&(l("Access-Control-Allow-Headers",h.join(",")),a.res.headers.append("Vary","Access-Control-Request-Headers")),a.res.headers.delete("Content-Length"),a.res.headers.delete("Content-Type"),new Response(null,{headers:a.res.headers,status:204,statusText:"No Content"})}await o()}},In=/^\s*(?:text\/(?!event-stream(?:[;\s]|$))[^;\s]+|application\/(?:javascript|json|xml|xml-dtd|ecmascript|dart|postscript|rtf|tar|toml|vnd\.dart|vnd\.ms-fontobject|vnd\.ms-opentype|wasm|x-httpd-php|x-javascript|x-ns-proxy-autoconfig|x-sh|x-tar|x-virtualbox-hdd|x-virtualbox-ova|x-virtualbox-ovf|x-virtualbox-vbox|x-virtualbox-vdi|x-virtualbox-vhd|x-virtualbox-vmdk|x-www-form-urlencoded)|font\/(?:otf|ttf)|image\/(?:bmp|vnd\.adobe\.photoshop|vnd\.microsoft\.icon|vnd\.ms-dds|x-icon|x-ms-bmp)|message\/rfc822|model\/gltf-binary|x-shader\/x-fragment|x-shader\/x-vertex|[^;\s]+?\+(?:json|text|xml|yaml))(?:[;\s]|$)/i,It=(e,t=Ln)=>{const r=/\.([a-zA-Z0-9]+?)$/,n=e.match(r);if(!n)return;let s=t[n[1]];return s&&s.startsWith("text")&&(s+="; charset=utf-8"),s},Dn={aac:"audio/aac",avi:"video/x-msvideo",avif:"image/avif",av1:"video/av1",bin:"application/octet-stream",bmp:"image/bmp",css:"text/css",csv:"text/csv",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gif:"image/gif",gz:"application/gzip",htm:"text/html",html:"text/html",ico:"image/x-icon",ics:"text/calendar",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",jsonld:"application/ld+json",map:"application/json",mid:"audio/x-midi",midi:"audio/x-midi",mjs:"text/javascript",mp3:"audio/mpeg",mp4:"video/mp4",mpeg:"video/mpeg",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",opus:"audio/opus",otf:"font/otf",pdf:"application/pdf",png:"image/png",rtf:"application/rtf",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",ts:"video/mp2t",ttf:"font/ttf",txt:"text/plain",wasm:"application/wasm",webm:"video/webm",weba:"audio/webm",webmanifest:"application/manifest+json",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xml:"application/xml",zip:"application/zip","3gp":"video/3gpp","3g2":"video/3gpp2",gltf:"model/gltf+json",glb:"model/gltf-binary"},Ln=Dn,Hn=(...e)=>{let t=e.filter(s=>s!=="").join("/");t=t.replace(new RegExp("(?<=\\/)\\/+","g"),"");const r=t.split("/"),n=[];for(const s of r)s===".."&&n.length>0&&n.at(-1)!==".."?n.pop():s!=="."&&n.push(s);return n.join("/")||"."},Or={br:".br",zstd:".zst",gzip:".gz"},qn=Object.keys(Or),Fn="index.html",Bn=e=>{const t=e.root??"./",r=e.path,n=e.join??Hn;return async(s,i)=>{var u,d,h,g;if(s.finalized)return i();let a;if(e.path)a=e.path;else try{if(a=decodeURIComponent(s.req.path),/(?:^|[\/\\])\.\.(?:$|[\/\\])/.test(a))throw new Error}catch{return await((u=e.onNotFound)==null?void 0:u.call(e,s.req.path,s)),i()}let o=n(t,!r&&e.rewriteRequestPath?e.rewriteRequestPath(a):a);e.isDir&&await e.isDir(o)&&(o=n(o,Fn));const l=e.getContent;let c=await l(o,s);if(c instanceof Response)return s.newResponse(c.body,c);if(c){const x=e.mimes&&It(o,e.mimes)||It(o);if(s.header("Content-Type",x||"application/octet-stream"),e.precompressed&&(!x||In.test(x))){const p=new Set((d=s.req.header("Accept-Encoding"))==null?void 0:d.split(",").map(y=>y.trim()));for(const y of qn){if(!p.has(y))continue;const E=await l(o+Or[y],s);if(E){c=E,s.header("Content-Encoding",y),s.header("Vary","Accept-Encoding",{append:!0});break}}}return await((h=e.onFound)==null?void 0:h.call(e,o,s)),s.body(c)}await((g=e.onNotFound)==null?void 0:g.call(e,o,s)),await i()}},Un=async(e,t)=>{let r;t&&t.manifest?typeof t.manifest=="string"?r=JSON.parse(t.manifest):r=t.manifest:typeof __STATIC_CONTENT_MANIFEST=="string"?r=JSON.parse(__STATIC_CONTENT_MANIFEST):r=__STATIC_CONTENT_MANIFEST;let n;t&&t.namespace?n=t.namespace:n=__STATIC_CONTENT;const s=r[e]||e;if(!s)return null;const i=await n.get(s,{type:"stream"});return i||null},Wn=e=>async function(r,n){return Bn({...e,getContent:async i=>Un(i,{manifest:e.manifest,namespace:e.namespace?e.namespace:r.env?r.env.__STATIC_CONTENT:void 0})})(r,n)},zn=e=>Wn(e),Oe="_hp",Vn={Change:"Input",DoubleClick:"DblClick"},Kn={svg:"2000/svg",math:"1998/Math/MathML"},Pe=[],vt=new WeakMap,we=void 0,Gn=()=>we,F=e=>"t"in e,lt={onClick:["click",!1]},Dt=e=>{if(!e.startsWith("on"))return;if(lt[e])return lt[e];const t=e.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(t){const[,r,n]=t;return lt[e]=[(Vn[r]||r).toLowerCase(),!!n]}},Lt=(e,t)=>we&&e instanceof SVGElement&&/[A-Z]/.test(t)&&(t in e.style||t.match(/^(?:o|pai|str|u|ve)/))?t.replace(/([A-Z])/g,"-$1").toLowerCase():t,Jn=(e,t,r)=>{var n;t||(t={});for(let s in t){const i=t[s];if(s!=="children"&&(!r||r[s]!==i)){s=Qe(s);const a=Dt(s);if(a){if((r==null?void 0:r[s])!==i&&(r&&e.removeEventListener(a[0],r[s],a[1]),i!=null)){if(typeof i!="function")throw new Error(`Event handler for "${s}" is not a function`);e.addEventListener(a[0],i,a[1])}}else if(s==="dangerouslySetInnerHTML"&&i)e.innerHTML=i.__html;else if(s==="ref"){let o;typeof i=="function"?o=i(e)||(()=>i(null)):i&&"current"in i&&(i.current=e,o=()=>i.current=null),vt.set(e,o)}else if(s==="style"){const o=e.style;typeof i=="string"?o.cssText=i:(o.cssText="",i!=null&&fr(i,o.setProperty.bind(o)))}else{if(s==="value"){const l=e.nodeName;if(l==="INPUT"||l==="TEXTAREA"||l==="SELECT"){if(e.value=i==null||i===!1?null:i,l==="TEXTAREA"){e.textContent=i;continue}else if(l==="SELECT"){e.selectedIndex===-1&&(e.selectedIndex=0);continue}}}else(s==="checked"&&e.nodeName==="INPUT"||s==="selected"&&e.nodeName==="OPTION")&&(e[s]=i);const o=Lt(e,s);i==null||i===!1?e.removeAttribute(o):i===!0?e.setAttribute(o,""):typeof i=="string"||typeof i=="number"?e.setAttribute(o,i):e.setAttribute(o,i.toString())}}}if(r)for(let s in r){const i=r[s];if(s!=="children"&&!(s in t)){s=Qe(s);const a=Dt(s);a?e.removeEventListener(a[0],i,a[1]):s==="ref"?(n=vt.get(e))==null||n():e.removeAttribute(Lt(e,s))}}},Xn=(e,t)=>{t[R][0]=0,Pe.push([e,t]);const r=t.tag[xt]||t.tag,n=r.defaultProps?{...r.defaultProps,...t.props}:t.props;try{return[r.call(null,n)]}finally{Pe.pop()}},Pr=(e,t,r,n,s)=>{var i,a;(i=e.vR)!=null&&i.length&&(n.push(...e.vR),delete e.vR),typeof e.tag=="function"&&((a=e[R][1][$r])==null||a.forEach(o=>s.push(o))),e.vC.forEach(o=>{var l;if(F(o))r.push(o);else if(typeof o.tag=="function"||o.tag===""){o.c=t;const c=r.length;if(Pr(o,t,r,n,s),o.s){for(let u=c;u<r.length;u++)r[u].s=!0;o.s=!1}}else r.push(o),(l=o.vR)!=null&&l.length&&(n.push(...o.vR),delete o.vR)})},Zn=e=>{for(;;e=e.tag===Oe||!e.vC||!e.pP?e.nN:e.vC[0]){if(!e)return null;if(e.tag!==Oe&&e.e)return e.e}},_r=e=>{var t,r,n,s,i,a;F(e)||((r=(t=e[R])==null?void 0:t[1][$r])==null||r.forEach(o=>{var l;return(l=o[2])==null?void 0:l.call(o)}),(n=vt.get(e.e))==null||n(),e.p===2&&((s=e.vC)==null||s.forEach(o=>o.p=2)),(i=e.vC)==null||i.forEach(_r)),e.p||((a=e.e)==null||a.remove(),delete e.e),typeof e.tag=="function"&&(Ce.delete(e),Xe.delete(e),delete e[R][3],e.a=!0)},kr=(e,t,r)=>{e.c=t,Mr(e,t,r)},Ht=(e,t)=>{if(t){for(let r=0,n=e.length;r<n;r++)if(e[r]===t)return r}},qt=Symbol(),Mr=(e,t,r)=>{var c;const n=[],s=[],i=[];Pr(e,t,n,s,i),s.forEach(_r);const a=r?void 0:t.childNodes;let o,l=null;if(r)o=-1;else if(!a.length)o=0;else{const u=Ht(a,Zn(e.nN));u!==void 0?(l=a[u],o=u):o=Ht(a,(c=n.find(d=>d.tag!==Oe&&d.e))==null?void 0:c.e)??-1,o===-1&&(r=!0)}for(let u=0,d=n.length;u<d;u++,o++){const h=n[u];let g;if(h.s&&h.e)g=h.e,h.s=!1;else{const x=r||!h.e;F(h)?(h.e&&h.d&&(h.e.textContent=h.t),h.d=!1,g=h.e||(h.e=document.createTextNode(h.t))):(g=h.e||(h.e=h.n?document.createElementNS(h.n,h.tag):document.createElement(h.tag)),Jn(g,h.props,h.pP),Mr(h,g,x))}h.tag===Oe?o--:r?g.parentNode||t.appendChild(g):a[o]!==g&&a[o-1]!==g&&(a[o+1]===g?t.appendChild(a[o]):t.insertBefore(g,l||a[o]||null))}if(e.pP&&delete e.pP,i.length){const u=[],d=[];i.forEach(([,h,,g,x])=>{h&&u.push(h),g&&d.push(g),x==null||x()}),u.forEach(h=>h()),d.length&&requestAnimationFrame(()=>{d.forEach(h=>h())})}},Yn=(e,t)=>!!(e&&e.length===t.length&&e.every((r,n)=>r[1]===t[n][1])),Xe=new WeakMap,yt=(e,t,r)=>{var i,a,o,l,c,u;const n=!r&&t.pC;r&&(t.pC||(t.pC=t.vC));let s;try{r||(r=typeof t.tag=="function"?Xn(e,t):Le(t.props.children)),((i=r[0])==null?void 0:i.tag)===""&&r[0][ht]&&(s=r[0][ht],e[5].push([e,s,t]));const d=n?[...t.pC]:t.vC?[...t.vC]:void 0,h=[];let g;for(let x=0;x<r.length;x++){Array.isArray(r[x])&&r.splice(x,1,...r[x].flat());let p=Qn(r[x]);if(p){typeof p.tag=="function"&&!p.tag[ir]&&(Ee.length>0&&(p[R][2]=Ee.map(E=>[E,E.values.at(-1)])),(a=e[5])!=null&&a.length&&(p[R][3]=e[5].at(-1)));let y;if(d&&d.length){const E=d.findIndex(F(p)?S=>F(S):p.key!==void 0?S=>S.key===p.key&&S.tag===p.tag:S=>S.tag===p.tag);E!==-1&&(y=d[E],d.splice(E,1))}if(y)if(F(p))y.t!==p.t&&(y.t=p.t,y.d=!0),p=y;else{const E=y.pP=y.props;if(y.props=p.props,y.f||(y.f=p.f||t.f),typeof p.tag=="function"){const S=y[R][2];y[R][2]=p[R][2]||[],y[R][3]=p[R][3],!y.f&&((y.o||y)===p.o||(l=(o=y.tag)[zr])!=null&&l.call(o,E,y.props))&&Yn(S,y[R][2])&&(y.s=!0)}p=y}else if(!F(p)&&we){const E=Ne(we);E&&(p.n=E)}if(!F(p)&&!p.s&&(yt(e,p),delete p.f),h.push(p),g&&!g.s&&!p.s)for(let E=g;E&&!F(E);E=(c=E.vC)==null?void 0:c.at(-1))E.nN=p;g=p}}t.vR=n?[...t.vC,...d||[]]:d||[],t.vC=h,n&&delete t.pC}catch(d){if(t.f=!0,d===qt){if(s)return;throw d}const[h,g,x]=((u=t[R])==null?void 0:u[3])||[];if(g){const p=()=>Ze([0,!1,e[2]],x),y=Xe.get(x)||[];y.push(p),Xe.set(x,y);const E=g(d,()=>{const S=Xe.get(x);if(S){const C=S.indexOf(p);if(C!==-1)return S.splice(C,1),p()}});if(E){if(e[0]===1)e[1]=!0;else if(yt(e,x,[E]),(g.length===1||e!==h)&&x.c){kr(x,x.c,!1);return}throw qt}}throw d}finally{s&&e[5].pop()}},Qn=e=>{if(!(e==null||typeof e=="boolean")){if(typeof e=="string"||typeof e=="number")return{t:e.toString(),d:!0};if("vR"in e&&(e={tag:e.tag,props:e.props,key:e.key,f:e.f,type:e.tag,ref:e.props.ref,o:e.o||e}),typeof e.tag=="function")e[R]=[0,[]];else{const t=Kn[e.tag];t&&(we||(we=or("")),e.props.children=[{tag:we,props:{value:e.n=`http://www.w3.org/${t}`,children:e.props.children}}])}return e}},Ft=(e,t)=>{var r,n;(r=t[R][2])==null||r.forEach(([s,i])=>{s.values.push(i)});try{yt(e,t,void 0)}catch{return}if(t.a){delete t.a;return}(n=t[R][2])==null||n.forEach(([s])=>{s.values.pop()}),(e[0]!==1||!e[1])&&kr(t,t.c,!1)},Ce=new WeakMap,Bt=[],Ze=async(e,t)=>{e[5]||(e[5]=[]);const r=Ce.get(t);r&&r[0](void 0);let n;const s=new Promise(i=>n=i);if(Ce.set(t,[n,()=>{e[2]?e[2](e,t,i=>{Ft(i,t)}).then(()=>n(t)):(Ft(e,t),n(t))}]),Bt.length)Bt.at(-1).add(t);else{await Promise.resolve();const i=Ce.get(t);i&&(Ce.delete(t),i[1]())}return s},es=(e,t,r)=>({tag:Oe,props:{children:e},key:r,e:t,p:1}),ct=0,$r=1,ft=2,ut=3,dt=new WeakMap,Ir=(e,t)=>!e||!t||e.length!==t.length||t.some((r,n)=>r!==e[n]),ts=void 0,Ut=[],rs=e=>{var a;const t=()=>typeof e=="function"?e():e,r=Pe.at(-1);if(!r)return[t(),()=>{}];const[,n]=r,s=(a=n[R][1])[ct]||(a[ct]=[]),i=n[R][0]++;return s[i]||(s[i]=[t(),o=>{const l=ts,c=s[i];if(typeof o=="function"&&(o=o(c[0])),!Object.is(o,c[0]))if(c[0]=o,Ut.length){const[u,d]=Ut.at(-1);Promise.all([u===3?n:Ze([u,!1,l],n),d]).then(([h])=>{if(!h||!(u===2||u===3))return;const g=h.vC;requestAnimationFrame(()=>{setTimeout(()=>{g===h.vC&&Ze([u===3?1:0,!1,l],h)})})})}else Ze([0,!1,l],n)}])},Nt=(e,t)=>{var o;const r=Pe.at(-1);if(!r)return e;const[,n]=r,s=(o=n[R][1])[ft]||(o[ft]=[]),i=n[R][0]++,a=s[i];return Ir(a==null?void 0:a[1],t)?s[i]=[e,t]:e=s[i][0],e},ns=e=>{const t=dt.get(e);if(t){if(t.length===2)throw t[1];return t[0]}throw e.then(r=>dt.set(e,[r]),r=>dt.set(e,[void 0,r])),e},ss=(e,t)=>{var o;const r=Pe.at(-1);if(!r)return e();const[,n]=r,s=(o=n[R][1])[ut]||(o[ut]=[]),i=n[R][0]++,a=s[i];return Ir(a==null?void 0:a[1],t)&&(s[i]=[e(),t]),s[i][0]},is=or({pending:!1,data:null,method:null,action:null}),Wt=new Set,as=e=>{Wt.add(e),e.finally(()=>Wt.delete(e))},At=(e,t)=>ss(()=>r=>{let n;e&&(typeof e=="function"?n=e(r)||(()=>{e(null)}):e&&"current"in e&&(e.current=r,n=()=>{e.current=null}));const s=t(r);return()=>{s==null||s(),n==null||n()}},[e]),de=Object.create(null),Ue=Object.create(null),Fe=(e,t,r,n,s)=>{if(t!=null&&t.itemProp)return{tag:e,props:t,type:e,ref:t.ref};const i=document.head;let{onLoad:a,onError:o,precedence:l,blocking:c,...u}=t,d=null,h=!1;const g=We[e];let x;if(g.length>0){const S=i.querySelectorAll(e);e:for(const C of S)for(const N of We[e])if(C.getAttribute(N)===t[N]){d=C;break e}if(!d){const C=g.reduce((N,P)=>t[P]===void 0?N:`${N}-${P}-${t[P]}`,e);h=!Ue[C],d=Ue[C]||(Ue[C]=(()=>{const N=document.createElement(e);for(const P of g)t[P]!==void 0&&N.setAttribute(P,t[P]),t.rel&&N.setAttribute("rel",t.rel);return N})())}}else x=i.querySelectorAll(e);l=n?l??"":void 0,n&&(u[ze]=l);const p=Nt(S=>{if(g.length>0){let C=!1;for(const N of i.querySelectorAll(e)){if(C&&N.getAttribute(ze)!==l){i.insertBefore(S,N);return}N.getAttribute(ze)===l&&(C=!0)}i.appendChild(S)}else if(x){let C=!1;for(const N of x)if(N===S){C=!0;break}C||i.insertBefore(S,i.contains(x[0])?x[0]:i.querySelector(e)),x=void 0}},[l]),y=At(t.ref,S=>{var P;const C=g[0];if(r===2&&(S.innerHTML=""),(h||x)&&p(S),!o&&!a)return;let N=de[P=S.getAttribute(C)]||(de[P]=new Promise((fe,re)=>{S.addEventListener("load",fe),S.addEventListener("error",re)}));a&&(N=N.then(a)),o&&(N=N.catch(o)),N.catch(()=>{})});if(s&&c==="render"){const S=We[e][0];if(t[S]){const C=t[S],N=de[C]||(de[C]=new Promise((P,fe)=>{p(d),d.addEventListener("load",P),d.addEventListener("error",fe)}));ns(N)}}const E={tag:e,type:e,props:{...u,ref:y},ref:y};return E.p=r,d&&(E.e=d),es(E,i)},os=e=>{const t=Gn(),r=t&&Ne(t);return r!=null&&r.endsWith("svg")?{tag:"title",props:e,type:"title",ref:e.ref}:Fe("title",e,void 0,!1,!1)},ls=e=>!e||["src","async"].some(t=>!e[t])?{tag:"script",props:e,type:"script",ref:e.ref}:Fe("script",e,1,!1,!0),cs=e=>!e||!["href","precedence"].every(t=>t in e)?{tag:"style",props:e,type:"style",ref:e.ref}:(e["data-href"]=e.href,delete e.href,Fe("style",e,2,!0,!0)),fs=e=>!e||["onLoad","onError"].some(t=>t in e)||e.rel==="stylesheet"&&(!("precedence"in e)||"disabled"in e)?{tag:"link",props:e,type:"link",ref:e.ref}:Fe("link",e,1,"precedence"in e,!0),us=e=>Fe("meta",e,void 0,!1,!1),Dr=Symbol(),ds=e=>{const{action:t,...r}=e;typeof t!="function"&&(r.action=t);const[n,s]=rs([null,!1]),i=Nt(async c=>{const u=c.isTrusted?t:c.detail[Dr];if(typeof u!="function")return;c.preventDefault();const d=new FormData(c.target);s([d,!0]);const h=u(d);h instanceof Promise&&(as(h),await h),s([null,!0])},[]),a=At(e.ref,c=>(c.addEventListener("submit",i),()=>{c.removeEventListener("submit",i)})),[o,l]=n;return n[1]=!1,{tag:is,props:{value:{pending:o!==null,data:o,method:o?"post":null,action:o?t:null},children:{tag:"form",props:{...r,ref:a},type:"form",ref:a}},f:l}},Lr=(e,{formAction:t,...r})=>{if(typeof t=="function"){const n=Nt(s=>{s.preventDefault(),s.currentTarget.form.dispatchEvent(new CustomEvent("submit",{detail:{[Dr]:t}}))},[]);r.ref=At(r.ref,s=>(s.addEventListener("click",n),()=>{s.removeEventListener("click",n)}))}return{tag:e,props:r,type:e,ref:r.ref}},hs=e=>Lr("input",e),ms=e=>Lr("button",e);Object.assign(mt,{title:os,script:ls,style:cs,link:fs,meta:us,form:ds,input:hs,button:ms});bt(null);new TextEncoder;var ps=bt(null),gs=(e,t,r,n)=>(s,i)=>{const a="<!DOCTYPE html>",o=r?Pt(c=>r(c,e),{Layout:t,...i},s):s,l=Wr`${$(a)}${Pt(ps.Provider,{value:e},o)}`;return e.html(l)},vs=(e,t)=>function(n,s){const i=n.getLayout()??sn;return e&&n.setLayout(a=>e({...a,Layout:i},n)),n.setRenderer(gs(n,i,e)),s()};const ys=vs(({children:e})=>m("html",{children:[m("head",{children:[m("meta",{charset:"UTF-8"}),m("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),m("title",{children:"ASCP(i) MLS Exam Simulator"}),m("script",{src:"https://cdn.tailwindcss.com"}),m("link",{href:"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css",rel:"stylesheet"}),m("link",{href:"/static/style.css",rel:"stylesheet"})]}),m("body",{children:[e,m("script",{src:"https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js"}),m("script",{src:"/static/app.js"})]})]})),K=new jr;K.use("/api/*",$n());K.use("/static/*",zn({root:"./public"}));K.use(ys);function xs(){const e=[];for(let t=0;t<20;t++)e.push("BloodBank");for(let t=0;t<20;t++)e.push("Chemistry");for(let t=0;t<20;t++)e.push("Hematology");for(let t=0;t<20;t++)e.push("Microbiology");for(let t=0;t<8;t++)e.push("Urinalysis");for(let t=0;t<7;t++)e.push("Immunology");for(let t=0;t<5;t++)e.push("LabOps");for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}function bs(){return Math.random().toString(36).substr(2,9)}K.post("/api/session/start",async e=>{const{env:t}=e,r=bs(),n=xs(),s={started_at:new Date().toISOString(),status:"active",current_difficulty:3,item_index:0,blueprint:n};return await t.DB.prepare(`
    INSERT INTO sessions (id, started_at, status, current_difficulty, item_index, blueprint)
    VALUES (?, ?, ?, ?, ?, ?)
  `).bind(r,s.started_at,s.status,s.current_difficulty,s.item_index,JSON.stringify(s.blueprint)).run(),e.json({sessionId:r,blueprint:s.blueprint})});K.get("/api/session/:id/question",async e=>{const{env:t}=e,r=e.req.param("id"),n=await t.DB.prepare(`
    SELECT * FROM sessions WHERE id = ?
  `).bind(r).first();if(!n)return e.json({error:"Session not found"},404);if(n.status==="completed"||n.item_index>=100)return e.json({error:"Session completed"},400);const i=JSON.parse(n.blueprint)[n.item_index],a=Math.max(1,n.current_difficulty-1),o=Math.min(5,n.current_difficulty+1),l=await t.DB.prepare(`
    SELECT * FROM questions 
    WHERE category = ? AND difficulty BETWEEN ? AND ?
    ORDER BY RANDOM() LIMIT 1
  `).bind(i,a,o).first();return l?e.json({questionId:l.id,itemIndex:n.item_index+1,totalItems:100,category:l.category,difficulty:l.difficulty,stem:l.stem,options:JSON.parse(l.options)}):e.json({error:"No questions available"},500)});K.post("/api/session/:id/answer",async e=>{const{env:t}=e,r=e.req.param("id"),{questionId:n,selectedIndex:s}=await e.req.json(),i=await t.DB.prepare(`
    SELECT * FROM sessions WHERE id = ?
  `).bind(r).first();if(!i)return e.json({error:"Session not found"},404);const a=await t.DB.prepare(`
    SELECT * FROM questions WHERE id = ?
  `).bind(n).first();if(!a)return e.json({error:"Question not found"},404);const o=s===a.correct_index;let l=i.current_difficulty;o&&l<5?l++:!o&&l>1&&l--;const c=i.item_index+1,u=c>=100?"completed":"active";return await t.DB.prepare(`
    UPDATE sessions 
    SET current_difficulty = ?, item_index = ?, status = ?
    WHERE id = ?
  `).bind(l,c,u,r).run(),e.json({correct:o,correctIndex:a.correct_index,explanation:a.explanation,newDifficulty:l,itemIndex:c,completed:u==="completed"})});K.get("/api/session/:id/status",async e=>{const{env:t}=e,r=e.req.param("id"),n=await t.DB.prepare(`
    SELECT * FROM sessions WHERE id = ?
  `).bind(r).first();return n?e.json({id:n.id,startedAt:n.started_at,status:n.status,currentDifficulty:n.current_difficulty,itemIndex:n.item_index,progress:Math.round(n.item_index/100*100)}):e.json({error:"Session not found"},404)});K.get("/",e=>e.render(m("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:m("div",{className:"container mx-auto px-4 py-8",children:m("div",{className:"max-w-4xl mx-auto",children:[m("div",{className:"text-center mb-12",children:[m("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:[m("i",{className:"fas fa-microscope mr-3 text-blue-600"}),"ASCP(i) MLS Exam Simulator"]}),m("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Computer-Adaptive Testing (CAT) simulation with 100 questions across all major laboratory disciplines. Questions adapt in difficulty based on your performance."})]}),m("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[m("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:[m("i",{className:"fas fa-chart-pie mr-2 text-green-600"}),"Exam Content Areas"]}),m("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[m("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[m("h3",{className:"font-semibold text-red-800",children:"Blood Banking"}),m("p",{className:"text-sm text-red-600",children:"17-22% (~20 questions)"})]}),m("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[m("h3",{className:"font-semibold text-blue-800",children:"Clinical Chemistry"}),m("p",{className:"text-sm text-blue-600",children:"17-22% (~20 questions)"})]}),m("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[m("h3",{className:"font-semibold text-purple-800",children:"Hematology"}),m("p",{className:"text-sm text-purple-600",children:"17-22% (~20 questions)"})]}),m("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[m("h3",{className:"font-semibold text-green-800",children:"Microbiology"}),m("p",{className:"text-sm text-green-600",children:"17-22% (~20 questions)"})]}),m("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[m("h3",{className:"font-semibold text-yellow-800",children:"Urinalysis"}),m("p",{className:"text-sm text-yellow-600",children:"5-10% (~8 questions)"})]}),m("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:[m("h3",{className:"font-semibold text-indigo-800",children:"Immunology"}),m("p",{className:"text-sm text-indigo-600",children:"5-10% (~7 questions)"})]})]}),m("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[m("h3",{className:"font-semibold text-gray-800",children:"Laboratory Operations"}),m("p",{className:"text-sm text-gray-600",children:"5-10% (~5 questions)"})]})]}),m("div",{className:"text-center",children:m("button",{id:"startExam",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-lg text-lg transition duration-300 shadow-lg",children:[m("i",{className:"fas fa-play mr-2"}),"Start Practice Exam"]})}),m("div",{id:"examArea",className:"hidden mt-8",children:m("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[m("div",{className:"mb-6",children:[m("div",{className:"flex justify-between items-center mb-2",children:[m("span",{className:"text-sm font-medium text-gray-600",children:"Progress"}),m("span",{id:"progressText",className:"text-sm font-medium text-gray-600",children:"0/100"})]}),m("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m("div",{id:"progressBar",className:"bg-blue-600 h-2 rounded-full",style:"width: 0%"})})]}),m("div",{id:"questionArea",children:[m("div",{className:"mb-4",children:[m("span",{id:"categoryBadge",className:"inline-block bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded"}),m("span",{id:"difficultyBadge",className:"inline-block ml-2 bg-gray-100 text-gray-800 text-xs font-semibold px-2.5 py-0.5 rounded"})]}),m("h3",{id:"questionStem",className:"text-lg font-medium mb-6 text-gray-800"}),m("div",{id:"optionsArea",className:"space-y-3"}),m("button",{id:"submitAnswer",className:"mt-6 bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded transition duration-300 disabled:opacity-50",disabled:!0,children:"Submit Answer"})]}),m("div",{id:"resultArea",className:"hidden",children:[m("div",{id:"answerFeedback",className:"p-4 rounded-lg mb-4"}),m("button",{id:"nextQuestion",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded transition duration-300",children:"Next Question"})]}),m("div",{id:"completionArea",className:"hidden text-center",children:m("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[m("i",{className:"fas fa-trophy text-yellow-500 text-4xl mb-4"}),m("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Exam Completed!"}),m("p",{className:"text-green-700 mb-4",children:"You have completed all 100 questions."}),m("button",{id:"restartExam",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded transition duration-300",children:"Start New Exam"})]})})]})})]})})})));const zt=new jr,Es=Object.assign({"/src/index.tsx":K});let Hr=!1;for(const[,e]of Object.entries(Es))e&&(zt.all("*",t=>{let r;try{r=t.executionCtx}catch{}return e.fetch(t.req.raw,t.env,r)}),zt.notFound(t=>{let r;try{r=t.executionCtx}catch{}return e.fetch(t.req.raw,t.env,r)}),Hr=!0);if(!Hr)throw new Error("Can't import modules from ['/src/index.ts','/src/index.tsx','/app/server.ts']");export{zt as default};
